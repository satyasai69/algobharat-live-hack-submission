// Polytype 0.17.0 â€“ https://github.com/fasttime/Polytype
(t=>{try{(class{})()}catch{return}throw Error("Polytype cannot be transpiled to ES5 or earlier code.")})();const t=Function.prototype,e=Map,o=Object,{create:n,defineProperties:r,defineProperty:s,freeze:c,getOwnPropertyDescriptor:l,getOwnPropertyDescriptors:i,getPrototypeOf:u,setPrototypeOf:a}=o,p=Proxy,f=Reflect,{apply:y,construct:h,get:d,set:w}=f,g=Set,b=String,m=Symbol.hasInstance,v=TypeError,P={apply(t,e,o){if(at(e)){const[t]=o,n=vt(t)&&et(u(t));if(n){const r=G(t,n);e=new p(e,r),delete o[0]}}return k(e,...o)}},_={setPrototypeOf:()=>!1},O={__proto__:_,apply(){throw v("Constructor cannot be invoked without 'new'")}},S=[],$=c({__proto__:null}),x="result",j="target",I={apply(t,e,[o]){if(vt(o)){const t=M(e);if(ht(t,o))return!0}return!1}},q=["function","object","undefined"],D=Symbol.for("Polytype inquiry: prototypes"),E=Symbol.for("Polytype inquiry: this supplier");let L=t.call,T=t=>L.bind(t);const k=T(t.bind),A=T(t[m]),C=T(t.toString),M=T(o.prototype.valueOf);T=null,L=null;const z=(t,e)=>{if(t.has(e)){const t=`Duplicate superclass ${Pt(e)}`;throw v(t)}},F=t=>{if(!at(t))throw v("Argument is not a function")},{classes:N}={classes(...t){if(!t.length)throw v("No superclasses specified");const e=new g,o=new g;for(const n of t){if(z(e,n),!pt(n)){const t=`${Pt(n)} is not a constructor`;throw v(t)}const{prototype:t}=n;if(gt(t)){const t=`Property 'prototype' of ${Pt(n)} is not an object or null`;throw v(t)}e.add(n),null!==t&&o.add(t)}const s=function(t,e){const o=V(t),s=B(t),c=U(e),l=R(t),i=W(l,t,O),u=n(null,{constructor:Z(i,!0),class:Z(c)}),a=W(u,e,_),p={class:Z(o),name:{get:s},prototype:Z(a)};return r(l,p),i}(e,o);return function(...t){const e=new g,o=new g;for(const n of t)for(let t of n)for(;!e.has(t);){e.add(t);{const{constructor:e}=t;pt(e)&&it(e,o)}{const e=u(t);if(null===e){ut(t,"isPrototypeOf",I);break}t=e}}}(e,o),s}},R=t=>{const o=function(...o){const n=[],s=function(){let t;return{get:()=>t,set:e=>{t=e}}}();{const r=function(t,o){const n=new e;let r,s;const c=t=>{if(r===!t)throw v("Mixed argument styles");r=t};for(const e of o){if(mt(e))throw v("Invalid arguments");let o,r;if(void 0!==e&&vt(o=e.super)){if(c(!0),z(n,o),!t.has(o)){const t=`${Pt(o)} is not a direct superclass`;throw v(t)}if(r=e.arguments,mt(r)){const t=`Invalid arguments for superclass ${Pt(o)}`;throw v(t)}}else c(!1),s||(s=t.values()),o=s.next().value,r=e;const l=void 0!==r?H(r):void 0;n.set(o,l)}return n}(t,o),l=function(t,e){function o(){throw v("Operation not supported")}return delete o.length,delete o.name,o.prototype=J(t,e.prototype),a(o,e),c(o),o}(s.get,new.target);for(const e of t){const t=r.get(e)??S,o=h(e,t,l),s=i(o);n.push(s)}}s.set(this);for(const t of n)r(this,t);for(let t;t=n.pop();)r(this,t)};return a(o,null),o},B=t=>()=>`(${[...t].map((({name:t})=>b(t)))})`,G=(t,e)=>({apply:(o,n,r)=>(t=e()??t,y(o,t,r))}),H=t.apply.bind(((...t)=>t),null),J=(t,e)=>{const o=n(e),r={get:(e,o,n)=>(t()||o===E&&dt(n,s)&&(n[x]=t),d(e,o,n))},s=new p(o,r);return s},K=(t,e)=>{const o={get(o,r){let s=d(t,r,e);if(at(s)){const t=Q(e,n);s=new p(s,t)}return s},set:(o,n,r)=>w(t,n,r,e)},n=new p($,o);return n},Q=(t,e)=>({apply:(o,n,r)=>(n===e&&(n=t),y(o,n,r))}),U=t=>{const{class:e}={class(e){F(e);const{prototype:o}=e;if(!t.has(o)){const t=vt(o)?"Property 'prototype' of argument does not match any direct superclass":"Property 'prototype' of argument is not an object";throw v(t)}return K(o,this)}};return e},V=t=>{const{class:e}={class(e){if(!t.has(e))throw F(e),v("Argument is not a direct superclass");return K(e,this)}};return e},W=(t,e,o)=>{const n=[t,...e],r=new p(t,{__proto__:o,get(t,o,s){o===D&&dt(s,r)&&(s[x]=e.values());const c=n.find(_t(o));if(void 0!==c)return d(c,o,s)},has:(t,e)=>n.some(_t(e)),set(t,e,o,r){const s=n.find(_t(e));return void 0!==s?w(s,e,o,r):(Y(r,e,o,!0),!0)}});return r},X=()=>!globalThis.hasOwnProperty("classes")&&(Y(globalThis,"classes",N),Y(o,"getPrototypeListOf",ot),!0),Y=(t,e,o,n=!1)=>s(t,e,Z(o,!0,n)),Z=(t,e,o)=>({value:t,writable:e,enumerable:o,configurable:e}),tt=t=>{const e=lt(t,D);if(void 0!==e){const t=[...e];for(const e of t)vt(e)||rt();return t}},et=t=>{const e=lt(t,E);return void 0===e||at(e)||rt(),e},{getPrototypeListOf:ot}={getPrototypeListOf:t=>{let e;{const o=u(t);null!==o?(e=tt(o),e||(e=[o])):e=[]}return e}},nt=t=>{let e=tt(t);if(!e){const o=u(t);e=null!==o?[o]:S}return e},rt=()=>{throw v("Corrupt inquiry result")},{[m]:st}={[m](t){ct=!0;try{if(at(this)){const e=A(this,t);if(!ct)return e;if(e||vt(t)&&ht(this.prototype,t))return!0}return!1}finally{ct=!1}}};let ct=!1;const lt=(t,e)=>{const o={__proto__:null,[j]:t};return d(t,e,o),o[x]},it=(t,e)=>{if(!e.has(t)){e.add(t);const o=nt(t);let n=!1;for(const t of o)yt(t)?ut(t,"bind",P):(it(t,e),n=!0);n||Y(t,m,st)}},ut=(t,e,o)=>{const n=l(t,e),r=n?.value;r&&wt(r,e)&&(n.value=new p(r,o),s(t,e,n))},at=t=>"function"==typeof t,pt=t=>{if(at(t)){const e=k(t);Y(e,"prototype",null);const o=new p(e,ft);try{return new class extends o{},!0}catch{}}return!1},ft={construct(){return this}},yt=t=>{if(wt(t,"")){const e=l(t,m);if(e&&!e.writable&&!e.enumerable&&!e.configurable&&wt(e.value,"[Symbol.hasInstance]"))return!0}return!1},ht=(t,e)=>nt(e).some((e=>e===t||ht(t,e))),dt=(t,e)=>vt(t)&&null===u(t)&&t!==e&&t[j]===e,wt=(t,e)=>{let o;try{o=C(t)}catch{return!1}const n=/^function (.*)\(\) {\s+\[native code]\s}$/.exec(o);return null!=n&&n[1]===e&&!pt(t)},gt=t=>void 0===t||bt(t),bt=t=>!q.includes(typeof t),mt=t=>null===t||bt(t),vt=t=>null!==t&&!gt(t),Pt=t=>{let e;return at(t)&&(({name:e}=t),null!=e&&(e=b(e),e))||(e=b(t)),e},_t=t=>e=>t in e;export{N as classes,X as defineGlobally,ot as getPrototypeListOf};